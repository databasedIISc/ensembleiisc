// * Posts

:root {
    --gradient-border: rgba(255, 255, 255, 0.5),
    rgba(var(--glow-mid), 0.5),
    rgba(var(--glow-outer), 0.5),
    transparent,
    rgba(var(--glow-outer), 0.5),
    rgba(var(--glow-mid), 0.5),
    rgba(255, 255, 255, 0.5);
    --soft-glow:
        0 0 5px #fff,
        0 0 10px var(--glow-mid),
        0 0 20px var(--glow-outer);

    --strong-glow: 0 0 5px #fff,
        0 0 10px #fff,
        0 0 20px var(--glow-mid),
        0 0 40px var(--glow-mid),
        0 0 80px var(--glow-outer),
        0 0 100px var(--glow-outer);

    --stronger-glow: 0 0 10px #fff,
        0 0 20px #fff,
        0 0 40px var(--glow-mid),
        0 0 60px var(--glow-mid),
        0 0 80px var(--glow-outer),
        0 0 100px var(--glow-outer);
}

// Swiper
.swiper {
  .swiper-items > * {
    transition-behavior: allow-discrete;
    transition-duration: 0.3s;
    
    &:not(:first-child) {
      opacity: 0;
      display: none;
    }
    &:first-child {
      opacity: 1;
    }

  }
}

.item-list {
    list-style-type: none;
    padding: 0;
    display: grid;
    grid-template-columns: var(--grid-template);
    gap: 1.5em;

    .item {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        gap: 1em;
        padding: var(--padding);


        .item-image {
            img {
                margin-top: 0;
                max-height: 100%;
                height: auto;
                width: auto;
                max-width: 100%;
                object-fit: contain;
                // aspect-ratio: 1/1;
                object-position: top;
                // filter: contrast(1.5) saturate(1.5) brightness(1.2);
                // mix-blend-mode: color-dodge;
                border-radius: var(--border-radius, 1rem);

                &:hover {
                    object-fit: contain;
                }


            }

        }

        datetime, .email {
            color: hsl(from var(--foreground) h s l / 0.5);
        }

        .item-meta {
            margin: 0;
            display: flex;
            flex-wrap: wrap;
            gap: 1.2em;

        }
    }

}

// Latest-Carousel

.latests {
    width: 100%;

    .options {
        margin-top: 1rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
}

.latest-items {
    height: 60svh;
    margin: 0;
    padding: 0;
    width: 100%;
    flex-grow: 1;
    


    .latest {
        display: flex;
        height: 100%;
        width: 100%;
        gap: 1em;
        padding: var(--padding, 2rem 3rem);

        @include media-query($on-palm) {
            flex-direction: column;
        }
        
        
        
        datetime {
            font-size: var(--size-0);
            color: hsl(from var(--foreground) h s l / 0.5);
        }
        .latest-info {
            width: 62%;
            margin-top: 0;
            display: flex;
            flex-direction: column;
            height: 100%;


            .read-more {
                margin-top: auto;

                @include media-query($on-palm) {
                    a {
                        display: block;
                    }
                }

            }

        }

        .latest-banner {
            // margin-top: 0;
            width: 38%;
            // align-content: center;
            text-align: end;
            img {
                margin-top: 0;
                max-height: 100%;
                height: auto;
                width: auto;
                max-width: 100%;
                object-fit: contain;
                // aspect-ratio: 1/1;
                object-position: top;
                // filter: contrast(1.5) saturate(1.5) brightness(1.2);
                // mix-blend-mode: color-dodge;
                border-radius: var(--border-radius, 1rem);
            }
        }

        @include media-query($on-palm) {
            .latest-banner {
                display: none;
            }

            .latest-info {
                width: 100%;
            }
        }
        width: inherit;
        flex-grow: 1;
    }
}




*:has(> .hover-glow) {
    position: relative;
    box-sizing: border-box;
}

.hover-glow {
    margin: 0;
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    // overflow: hidden;
    transition: 0.1s ease;
    // inset: calc(var(--border-weight, 0.5px));
    border: inherit;
    border-radius: inherit;
    overflow: hidden;
    pointer-events: none;

    &::before {
        content: '';
        position: absolute;
        top: var(--mouse-y, 50%);
        left: var(--mouse-x, 50%);
        width: 50em;
        aspect-ratio: 1 / 1;
        transform: translate(-50%, -50%);
        background: radial-gradient(
            circle,
            rgb(from (var(--glow-outer) r g b / 0.2))0%,
            transparent 50%
        ) border-box;
        opacity: 0;
        transition: .1s, top 0s, left 0s;
        pointer-events: none;
        z-index: -1;
        // mix-blend-mode: overlay;
    }



    *:has(> &):hover &::before {
        opacity: 1;
    }
}

*:has(> .scanlines) {
    position: relative;
    box-sizing: border-box;
}

.scanlines {
    margin: 0;
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    pointer-events: none; 
    border: inherit;
    border-radius: inherit;
    // inset: calc(0 - var(--border-weight, 0.5px));

}

.scanlines::before {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none; /* Allows clicking through the lines */
    z-index: 10;
    
    background: repeating-linear-gradient(
        to bottom,
        transparent 0px,
        transparent 2px,
        rgba(101, 45, 0, 0.2) 3px,
        rgba(83, 37, 4, 0.2) 4px
    ) ;
    border: inherit;
    border-radius: inherit;
    mix-blend-mode: lighten;;
}

.scanlines::after {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 11;
    opacity: 0.12;
    border: inherit;
    border-radius: inherit;
    background: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E") border-box;

}

.glow-card {
    box-sizing: border-box;
    // border: .5px solid transparent;
    // background: linear-gradient(var(--bg) 0 0) padding-box,
                // conic-gradient(from -45deg, var(--gradient-border)) border-box;
    box-shadow: 
        0 0 20px rgba(0, 0, 0, 0.5),        /* Outer shadow for lift */
        inset 0 0 100px rgba(135, 99, 2, 0.475),  /* Inner shadow for depth */
        0 0 0 1px rgba(255, 174, 23, 0.591);  /* The specific "Rim Light" glow */
    border-radius: var(--border-radius, 1rem);
    flex-direction: row;
    position: relative;
    filter: blur(0.5px);
    mix-blend-mode: screen;
}

.nav-height-adjust {
    margin-top: var(--nav-height, 4rem);
}

a.nav-height-adjust {
    display: inline-block;
}

*:has(.glow) {
  overflow: visible;
}

.glow {
  text-shadow: var(--soft-glow);
    
    /* Mix blend mode helps the text burn into the background */
    mix-blend-mode: screen;
    filter: blur(0.5px) contrast(1.5);
}


.boxglow {
  text-decoration: none;
  padding: var(--text-padding, 0.1rem 1rem);
  border-radius: var(--border-radius, 0.1rem);
  background-color: var(--foreground);
  color: var(--bg) !important;
  position: relative;
  box-shadow: var(--strong-glow);
  text-shadow: 
        0 0 5px var(--glow-mid);
  transition-duration: 0.1s;

  &:hover {
    transition-duration: 0.1s;
      box-shadow: var(--stronger-glow);
  }
    
        /* Mix blend mode helps the text burn into the background */
    mix-blend-mode: screen;
    filter: blur(0.5px) contrast(1.5);
}

.svgglow {
  /* Make sure the base SVG color is white */
    fill: white; 
    
    /* Helps the glow burn into the background */
    mix-blend-mode: screen; 
    
    /* SVGs ignore 'text-shadow'. We use 'drop-shadow' instead. */
    filter: 
        drop-shadow(0 0 5px #fff)
        drop-shadow(0 0 10px #fff)
        drop-shadow(0 0 20px var(--glow-mid))
        drop-shadow(0 0 30px var(--glow-mid))
        /* Reduced layers slightly for performance, as drop-shadow is heavy */
        drop-shadow(0 0 40px var(--glow-outer));
}

.hr-glow {
    border:0;
    width: 50%;
    height: calc(5 * var(--border-weight, 1px));
    background: var(--foreground);
    border-radius: 0 200% 200% 0;
    box-shadow: var(--strong-glow);
    opacity: 1;
}